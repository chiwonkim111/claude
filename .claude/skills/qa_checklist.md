---
name: qa-checklist
description: QA 검수 체크리스트 스킬. qa-inspector 에이전트가 /check 명령 실행 시 기능, 성능, 보안, 접근성 항목을 체계적으로 검수할 때 사용합니다.
---

`/check` 명령 실행 시 아래 체크리스트를 순서대로 적용하여 검수합니다.

## 1. 기능 검수 체크리스트

### 1-1. 기획 일치성
- [ ] `docs/PLAN.md`의 모든 기능 요구사항(FR)이 코드에 존재하는가
- [ ] 각 기능의 입력값/출력값이 명세와 일치하는가
- [ ] 완료 조건(Acceptance Criteria)을 코드가 충족하는가
- [ ] 비기능 요구사항(NFR)이 반영되어 있는가

### 1-2. 예외 처리
- [ ] 필수 입력값 누락 시 적절한 에러 응답을 반환하는가
- [ ] 존재하지 않는 리소스 요청 시 404를 반환하는가
- [ ] 권한 없는 요청 시 401/403을 반환하는가
- [ ] 중복 데이터 생성 시 409를 반환하는가
- [ ] 서버 내부 오류 시 500을 반환하고 스택 트레이스를 외부에 노출하지 않는가

### 1-3. API 명세 일치성
- [ ] 엔드포인트 URL이 `docs/ARCHITECTURE.md`와 일치하는가
- [ ] HTTP 메서드가 명세와 일치하는가
- [ ] 응답 형식(`success`, `data`, `error`)이 api_convention 규칙과 일치하는가
- [ ] 에러 코드(`error.code`)가 명세에 정의된 값과 일치하는가

---

## 2. 코드 품질 체크리스트

### 2-1. 클린 아키텍처 준수
- [ ] Domain Layer가 외부 프레임워크/ORM을 import하지 않는가
- [ ] Application Layer가 Infrastructure를 직접 import하지 않는가
- [ ] Repository는 인터페이스로 주입되는가 (구체 클래스 직접 생성 금지)
- [ ] UseCase가 하나의 책임만 가지는가

### 2-2. 코드 규칙 준수
- [ ] 함수/메서드가 20줄을 초과하지 않는가
- [ ] 매직 넘버와 하드코딩된 문자열이 상수로 추출되어 있는가
- [ ] 환경변수가 config 모듈을 통해 주입되는가 (코드에 직접 작성 없음)
- [ ] 한국어 주석이 파일 상단, 클래스, 함수에 작성되어 있는가

### 2-3. 중복 코드
- [ ] 동일 로직이 3곳 이상에 반복되는가 (발견 시 리팩토링 권고)
- [ ] 공통 유틸 함수가 적절히 분리되어 재사용되고 있는가

---

## 3. 보안 체크리스트

- [ ] 비밀번호가 평문으로 저장되지 않는가 (bcrypt 등 해시 처리)
- [ ] SQL Injection 방지: ORM 또는 파라미터 바인딩을 사용하는가
- [ ] XSS 방지: 사용자 입력값이 이스케이프 처리되는가
- [ ] 인증이 필요한 엔드포인트에 인증 미들웨어가 적용되어 있는가
- [ ] JWT 시크릿 키가 환경변수로 관리되는가
- [ ] 로그에 비밀번호, 토큰 등 민감 정보가 출력되지 않는가
- [ ] 에러 응답에 서버 내부 정보(스택 트레이스, DB 쿼리)가 노출되지 않는가
- [ ] CORS 설정이 필요 이상으로 열려 있지 않은가 (`*` 사용 여부 확인)

---

## 4. 성능 체크리스트

- [ ] N+1 쿼리 문제가 없는가 (연관 데이터 조회 시 JOIN 또는 eager loading 사용)
- [ ] 목록 조회에 페이지네이션이 적용되어 있는가 (무제한 조회 금지)
- [ ] 자주 조회되는 컬럼에 인덱스가 설정되어 있는가
- [ ] 외부 API 호출 시 타임아웃이 설정되어 있는가
- [ ] 응답 데이터에 불필요한 필드가 포함되지 않는가

---

## 5. 접근성 체크리스트 (프론트엔드)

- [ ] 모든 `<img>`에 `alt` 속성이 있는가
- [ ] 색상만으로 정보를 전달하지 않는가 (아이콘, 텍스트 병행)
- [ ] 키보드만으로 모든 주요 기능을 사용할 수 있는가 (Tab 탐색)
- [ ] Focus 상태가 시각적으로 표시되는가 (`focus-visible`)
- [ ] `<button>`, `<a>` 등에 의미 있는 텍스트 또는 `aria-label`이 있는가
- [ ] 폼 요소에 `<label>`이 연결되어 있는가
- [ ] 색상 대비가 충분한가 (일반 텍스트 4.5:1 이상)

---

## 6. 테스트 커버리지 체크리스트

- [ ] Domain Layer (Entity, VO) 테스트 커버리지 90% 이상인가
- [ ] Application Layer (UseCase) 테스트 커버리지 85% 이상인가
- [ ] 정상 흐름(Happy Path) 테스트가 작성되어 있는가
- [ ] 주요 예외 흐름(Edge Case) 테스트가 작성되어 있는가
- [ ] 테스트가 독립적으로 실행 가능한가 (외부 상태 의존 없음)

---

## 검수 결과 판정 기준

| 구현율 | 등급 | 조치 |
|--------|------|------|
| 90% ~ 100% | ✅ **PASS** | 배포 승인 가능 |
| 70% ~ 89% | ⚠️ **CONDITIONAL** | Critical 이슈 해결 후 재검수 |
| 50% ~ 69% | 🔴 **FAIL** | 주요 기능 구현 후 재검수 필요 |
| 0% ~ 49% | ❌ **BLOCK** | 구현 단계로 복귀 |
